language: c
compiler: gcc

before_install:
  # GENERATE FILES FOR EFFICIENCY TESTS
  - cd project/efficiencyTests/
  - mkdir data && cd ./data/
  # 500 MB files
  - dd if=/dev/urandom of=firstNumber500MB bs=1024 count=512000
  - dd if=/dev/urandom of=secondNumber500MB bs=1024 count=512000
  # 1 MB file
  - dd if=/dev/urandom of=firstNumber1MB bs=1024 count=1024
  # 20 KB file
  - dd if=/dev/urandom of=firstNumber20KB bs=1024 count=20
  # Get back to source folder
  - cd ../../../

install:
  - sudo apt-get install g++-multilib

script:
  # RUN ALL UNIT TESTS
  - cd project/tests
  - make AllTests
  # RUN EFFICIENCY TESTS
  - cd ../efficiencyTests/
  - make EfficiencyTests
  # RUN GPROF ANALYSIS
  - make GprofTest && cat ./profile-data.txt
  # RUN VALGRIND ANALYSIS
